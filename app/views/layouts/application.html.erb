<!DOCTYPE html>
<html>
  <head>
    <title><%= content_for(:title) || "Carbonation Labs" %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Carbonation Labs">
    <meta name="mobile-web-app-capable" content="yes">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= yield :head %>

    <%# Enable PWA manifest for installable apps (make sure to enable in config/routes.rb too!) %>
    <%#= tag.link rel: "manifest", href: pwa_manifest_path(format: :json) %>

    <link rel="icon" href="/icon.png" type="image/png">
    <link rel="icon" href="/icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/icon.png">

    <%# Includes all stylesheet files in app/assets/stylesheets %>
    <%= stylesheet_link_tag :app, "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body>
    <header class="site-header">
      <nav>
        <%= link_to root_path, class: "site-title" do %>
          <svg viewBox="0 -30 380 430" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <!-- Bubbles for each tube -->
            <!-- Dark blue bubbles -->
            <circle cx="25" cy="25" r="9" fill="#4f7cff" stroke="#1e40af" stroke-width="2"/>
            <circle cx="50" cy="5" r="7" fill="#6b8fff" stroke="#1e40af" stroke-width="1.5"/>
            <circle cx="40" cy="-12" r="5" fill="#93b4ff" stroke="#1e40af" stroke-width="1"/>
            <!-- Pink bubbles -->
            <circle cx="90" cy="18" r="10" fill="#ff6b9d" stroke="#db2777" stroke-width="2"/>
            <circle cx="115" cy="0" r="8" fill="#ff8fb3" stroke="#db2777" stroke-width="1.5"/>
            <circle cx="100" cy="-15" r="6" fill="#ffb3cc" stroke="#db2777" stroke-width="1"/>
            <circle cx="130" cy="-8" r="5" fill="#ff8fb3" stroke="#db2777" stroke-width="1"/>
            <!-- Orange bubbles -->
            <circle cx="170" cy="15" r="11" fill="#ff6b00" stroke="#cc5500" stroke-width="2"/>
            <circle cx="200" cy="-5" r="8" fill="#ff8533" stroke="#cc5500" stroke-width="1.5"/>
            <circle cx="185" cy="30" r="7" fill="#ffa366" stroke="#cc5500" stroke-width="1.5"/>
            <circle cx="215" cy="-20" r="6" fill="#ff8533" stroke="#cc5500" stroke-width="1"/>
            <circle cx="175" cy="-10" r="5" fill="#ffa366" stroke="#cc5500" stroke-width="1"/>
            <!-- Green bubbles -->
            <circle cx="260" cy="20" r="10" fill="#4ade80" stroke="#16a34a" stroke-width="2"/>
            <circle cx="285" cy="2" r="7" fill="#6ee7a0" stroke="#16a34a" stroke-width="1.5"/>
            <circle cx="270" cy="-12" r="6" fill="#86efac" stroke="#16a34a" stroke-width="1"/>
            <circle cx="295" cy="-18" r="5" fill="#6ee7a0" stroke="#16a34a" stroke-width="1"/>
            <!-- Teal bubbles -->
            <circle cx="335" cy="18" r="10" fill="#2dd4bf" stroke="#0d9488" stroke-width="2"/>
            <circle cx="360" cy="0" r="8" fill="#5eead4" stroke="#0d9488" stroke-width="1.5"/>
            <circle cx="345" cy="-15" r="6" fill="#99f6e4" stroke="#0d9488" stroke-width="1"/>
            <circle cx="375" cy="-10" r="5" fill="#5eead4" stroke="#0d9488" stroke-width="1"/>

            <!-- Tube 1: Dark Blue (tilted left, ~50% full) -->
            <g transform="rotate(-15 55 200)">
              <path d="M20 50 L20 220 Q20 280 55 280 Q90 280 90 220 L90 50 Z" fill="#f5f5f5" stroke="currentColor" stroke-width="5"/>
              <path d="M28 165 L28 220 Q28 268 55 268 Q82 268 82 220 L82 165 Z" fill="#1e40af"/>
              <circle cx="45" cy="195" r="6" fill="#3b82f6"/>
              <circle cx="68" cy="230" r="5" fill="#60a5fa"/>
              <circle cx="50" cy="250" r="4" fill="#3b82f6"/>
              <rect x="10" y="35" width="90" height="15" rx="4" fill="currentColor"/>
            </g>

            <!-- Tube 2: Pink (tilted slightly left, ~90% full) -->
            <g transform="rotate(-6 115 200)">
              <path d="M80 50 L80 220 Q80 280 115 280 Q150 280 150 220 L150 50 Z" fill="#f5f5f5" stroke="currentColor" stroke-width="5"/>
              <path d="M88 75 L88 220 Q88 268 115 268 Q142 268 142 220 L142 75 Z" fill="#db2777"/>
              <circle cx="102" cy="110" r="6" fill="#ec4899"/>
              <circle cx="125" cy="160" r="5" fill="#f472b6"/>
              <circle cx="100" cy="200" r="5" fill="#ec4899"/>
              <circle cx="128" cy="240" r="4" fill="#f472b6"/>
              <rect x="70" y="35" width="90" height="15" rx="4" fill="currentColor"/>
            </g>

            <!-- Tube 3: Orange (upright, ~60% full) -->
            <g transform="translate(0 0)">
              <path d="M160 50 L160 220 Q160 280 195 280 Q230 280 230 220 L230 50 Z" fill="#f5f5f5" stroke="currentColor" stroke-width="5"/>
              <path d="M168 140 L168 220 Q168 268 195 268 Q222 268 222 220 L222 140 Z" fill="#ff6b00"/>
              <circle cx="182" cy="175" r="6" fill="#ff8533"/>
              <circle cx="208" cy="210" r="5" fill="#ffa366"/>
              <circle cx="185" cy="245" r="5" fill="#ff8533"/>
              <rect x="150" y="35" width="90" height="15" rx="4" fill="currentColor"/>
            </g>

            <!-- Tube 4: Green (tilted slightly right, ~95% full) -->
            <g transform="rotate(7 275 200)">
              <path d="M240 50 L240 220 Q240 280 275 280 Q310 280 310 220 L310 50 Z" fill="#f5f5f5" stroke="currentColor" stroke-width="5"/>
              <path d="M248 75 L248 220 Q248 268 275 268 Q302 268 302 220 L302 75 Z" fill="#16a34a"/>
              <circle cx="262" cy="110" r="5" fill="#22c55e"/>
              <circle cx="288" cy="155" r="4" fill="#4ade80"/>
              <circle cx="260" cy="195" r="5" fill="#22c55e"/>
              <circle cx="290" cy="235" r="4" fill="#4ade80"/>
              <rect x="230" y="35" width="90" height="15" rx="4" fill="currentColor"/>
            </g>

            <!-- Tube 5: Teal (tilted right, ~70% full) -->
            <g transform="rotate(16 335 200)">
              <path d="M300 50 L300 220 Q300 280 335 280 Q370 280 370 220 L370 50 Z" fill="#f5f5f5" stroke="currentColor" stroke-width="5"/>
              <path d="M308 120 L308 220 Q308 268 335 268 Q362 268 362 220 L362 120 Z" fill="#0d9488"/>
              <circle cx="322" cy="155" r="5" fill="#14b8a6"/>
              <circle cx="350" cy="195" r="4" fill="#2dd4bf"/>
              <circle cx="325" cy="235" r="5" fill="#14b8a6"/>
              <rect x="290" y="35" width="90" height="15" rx="4" fill="currentColor"/>
            </g>
          </svg>
          <span class="site-title__text">
            Carbonation Labs
            <span class="tagline">Add more bubbles to your boards!</span>
          </span>
        <% end %>
      </nav>
    </header>

    <main id="main">
      <% if notice %>
        <div class="flash flash--notice"><%= notice %></div>
      <% end %>
      <% if alert %>
        <div class="flash flash--alert"><%= alert %></div>
      <% end %>

      <%= yield %>
    </main>
  </body>
</html>
